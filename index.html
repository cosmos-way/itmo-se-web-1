<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Лабораторная работа #1</title>
    <script type="text/javascript" src="script.js"></script>
    <link rel="stylesheet" href="style.css">
    <script>
        let myCanvas;
        window.onload = function(){
            <?php
            if (!empty($_POST))
                echo 'initElementsOfForm(' . $_POST["xValue"] .  ', ' . $_POST["yValue"] .  ', ' . $_POST["rValue"] .  ');';
        else
            echo 'initElementsOfForm();';
                ?>

            myCanvas = new Canv(200,100);
            myCanvas.setVars(0,0,3);
            myCanvas.draw();

            <?php
            main();
                ?>
            fillTable();

        }
        function drawMe(){
            if(!formValidation())
                return false;
            myCanvas.setVars( Number(document.getElementById("xValue").getAttribute("value")),
                Number(document.getElementById("yValue").getAttribute("value")),
                Number(document.getElementById("rValue").getAttribute("value")) );
            myCanvas.draw();
            myCanvas.draw();
        }
    </script>

</head>
<body>
<div id="container">
    <div id="header">
        <p>Лабораторная работа #1</p>
        <p>Киселёв Константин</p>
        <p>P3225<br/>Вариант 2327</p>
    </div>
    <div id="main">
        <div id="canv">
        </div>
        <form name="myForm" action="index.php" onsubmit="return formValidation()" method="post">

            <div id="xCheckboxes">
                <label>X = </label>
            </div>

            <div id="yCheckboxes">
                <label id="yLab" for="y">Y = </label>
                <input id="yText" name="yText" type="text"/>
            </div>

            <div id="rCheckboxes">
                <label id="rLab" >R = </label>
            </div>
            <input type="button" value="Draw" onclick="drawMe()">
            <input type="hidden" id="xValue" name="xValue" value="">
            <input type="hidden" id="yValue" name="yValue" value="">
            <input type="hidden" id="rValue" name="rValue" value="">
            <input type="hidden" id="timeID" name="timeID" value="">
            <input type="submit">
        </form>
        <table id="results">
            <tr>
                <th>#</th>
                <th>Time</th>
                <th>Exec time (ms)</th>
                <th>x</th>
                <th>y</th>
                <th>r</th>
                <th>Result</th>
            </tr>

        </table>
    </div>
    <div id="footer">

    </div>
</div>
</body>
</html>